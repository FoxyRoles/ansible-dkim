---
## Tasks for Opendkim Ansible role

- fail:
    msg: "Bailing out. This role requires 'dkim_admin_email' to have an email address as value"
  when: dkim_admin_email is not defined

- fail:
    msg: "Bailing out. This role requires 'dkim_domains' to be defined as a list of domains."
  when: 
  - dkim_domains is not defined
  - dkim_domains is not list

- import_tasks: opendkim.yml

- import_tasks: postfix.yml

- import_tasks: dns_records.yml